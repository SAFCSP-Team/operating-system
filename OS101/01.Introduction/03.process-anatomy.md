# Process Anatomy
A process is essentially a program that is currently being executed. When a program runs, it is transformed into a process, which is assigned an identifier (ID), a state, memory space, and various other attributes. In this lesson, we will take a closer look at processes and the related data associated with them.


## Process
You can think of a process as a task given to the computer to be performed, to do so the computer needs to understand the information it needs to perform the program. That is why there is a unified form for processes to be mapped to in order to know how to interact with it.
A process in memory will be divided into two sections, static and dynamic. 
The static section will contain the known data such as global variables and the program instructions. Their spaces are is determined from the start at compile time. However, dynamic section will contains the data that are specified at the run time. Such as new objects creation and functions call. 
A process in memory will have data, code and space for heap and stack. Each section holds specific type of data. 

[![process image with static and dynamic sections ]()]

The static section contains data and code. which are the variables and constants created, and the code which is the program's instructions. While dynamic section contains the stack and heap which are responsible for holding local variables, function calls, and storing objects until they are deleted.

![process image](./images/09.process.png)


|Section | Description|
|--------|------------|
| Data   |Data section will contain static and global variables|
| Code   |Will hold the program instructions|
| Heap   | Is a free memory space we can use during the program execution (at run time), it is commonly used to store objects that can be freed later on in the execution|
| Stack  | Will contain temporary variables such as local variables and return addresses that are related to function calls |


## Process Meta-Data
There are some meta-data the operating system needs to manage process. For example how can the operating system address or refer to a process? Also, some times the process gets interrupted during its execution, how would the operating system knows where did the process stopped? Does the operating system start running the process from the start if it gets interrupted?

These questions will be answered with time, by understanding how OS manages process. However, for now we conclude that the operating system needs some data related to process management. 

|Data | Description|
|--------|------------|
| PID    |Process ID uniquely identifies a process |
| State  |The current state of the process|
| PC     |A pointer to the next instruction to be executed in the program/process |
| User  | The user who started the process |

There are more information some of them are specific to the Operating system needs for example the process priority to understand when will it be executed.

## Process State Life-Cycle
Each process has the information of its state, the state the process can be at are the following. 

- **New**: The process has just been created.
- **Ready**: The process is ready to be executed.
- **Running**: The process is currently being executed.
- **Blocked/Waiting**: The process is waiting for an external even to happen such as I/O device availability or operation.
- **Terminated**: The process has completed its execution.


[![process state transition image ]()]


## Process Preview
OS provides some services for programs or users to manage processes, such as creating, pausing, executing, or killing a process. To access these features we may use some libraries in our programming languages that communicate directly with the OS or we can use the command line. In our case, we will demonstrate the concept of managing processes using **Activity Monitor** in MacOS or **Task Manager** in Windows OS. And using the command line. However, we will discuss how to manage processes using the libraries in programming languages later on.



### Activity Monitor 
It is a utility in MacOS devices that helps you analyze and manage processes and see their resource usage.


![activity monitor image](./images/11.activity-monitor-process-view.png)

Above is an image of the activity monitor program, it displays the current activities of the computer including running programs (processes).
1. **Process Name**: is a list of all currently running programs.
2. **CPU**: is the CPU
 usage by each process. 
3. **PID**: each process is assigned to a process ID for identifying them.
4. **CPU Load**: is an overall current CPU state that identifies how much CPU is used and by whom. 


> Resource for [Activity Monitor](https://support.apple.com/en-sa/guide/activity-monitor/welcome/mac).

> Resource for [Task Manager](https://learn.microsoft.com/en-us/shows/inside/task-manager).


Let us open the Zoom program and search for it using the Activity Monitor. 

![activity monitor image](./images/12.activity-monitor-with-zoom.png)
As you can see, when Zoom is running, there must be a process which was displayed in the image above. What do you think will happen if we close Zoom? 
The process must be terminated since the program is not running, let us terminate it and check again. 

![activity monitor image](./images/13.quit-zoom.png)
> To quit Zoom, you can double-click on the process and choose quit. Or, close the program from the zoom itself.



### Command Line
Open your terminal on MacOS & Linux or command line prompt on Windows.

#### MacOS & Linux
use the `top` command to display all the current processes and their data. 
![activity monitor image](./images/15.top-command.png)

To kill a process, you can use the `kill` command and provide it with the process ID. The following video demonstrates the complete process of displaying and terminating a process (we terminated the terminal process as an example)


https://github.com/user-attachments/assets/61a99668-59d3-4fa9-9caf-8d2fec915803


#### Windows
For windows users, you can type `Tasklist` command to display all processes.

> Resource for [Tasklist command](https://ss64.com/nt/tasklist.html).

Here is an example of listing current processes and terminating the CMD process using the command line.

![tasklist command](./images/16.task-list.png)

![kill command](./images/17.kill-process.png)

Once we kill the cmd process, the cmd window will be closed same as the MacOS video.



## Project 
- Display the process list on your device and investigate its properties. 
- Kill a process from the CMD.







